<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TLOIN ERP v25.0 - MASTER NEXUS</title>
    <style>
        :root { 
            --navy: #050a30; --gold: #ffcc00; --bg: #f4f7f6; --white: #ffffff; 
            --border: #ced4da; --finance: #27ae60; --medical: #e74c3c; --academic: #8e44ad;
        }
        body, html { margin: 0; padding: 0; height: 100vh; font-family: 'Inter', sans-serif; background: var(--bg); overflow: hidden; }
        
        /* LAYOUT ARCHITECTURE */
        #master-container { display: grid; grid-template-columns: 260px 1fr; height: 100vh; }
        
        /* SIDEBAR NAVIGATION (Locked) */
        #sidebar { background: var(--navy); color: white; border-right: 5px solid var(--gold); display: flex; flex-direction: column; }
        .brand { padding: 25px; text-align: center; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .brand h1 { margin: 0; font-size: 14px; color: var(--gold); letter-spacing: 1px; }
        
        .nav-group { padding: 20px 0; flex-grow: 1; }
        .nav-item { padding: 15px 25px; font-size: 11px; text-transform: uppercase; font-weight: 700; cursor: pointer; transition: 0.3s; border-left: 4px solid transparent; color: #aab; }
        .nav-item:hover { background: rgba(255,255,255,0.05); color: var(--gold); }
        .nav-item.active { background: rgba(255,255,255,0.1); color: var(--gold); border-left: 4px solid var(--gold); }

        /* VIEWPORT */
        #viewport { overflow-y: auto; padding: 30px; position: relative; }
        .desk-view { display: none; animation: fadeIn 0.4s ease; }
        .desk-view.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* UNIVERSAL COMPONENTS */
        .card { background: var(--white); border: 1px solid var(--border); padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.02); }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        label { display: block; font-size: 9px; font-weight: 800; color: var(--navy); text-transform: uppercase; margin-bottom: 5px; }
        input, select, textarea { width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 4px; font-size: 12px; margin-bottom: 10px; box-sizing: border-box; }
        
        .btn-action { background: var(--navy); color: white; padding: 12px; border: none; border-radius: 4px; font-weight: 700; cursor: pointer; text-transform: uppercase; font-size: 10px; }
        .lock-banner { background: #fff5f5; border: 1px solid #feb2b2; padding: 10px; border-radius: 4px; color: #c53030; font-size: 10px; font-weight: bold; margin-bottom: 15px; }

        /* TABLE STYLING */
        table { width: 100%; border-collapse: collapse; font-size: 11px; }
        th { text-align: left; padding: 12px; background: #f8f9fa; border-bottom: 2px solid var(--navy); font-size: 9px; color: var(--navy); }
        td { padding: 12px; border-bottom: 1px solid #eee; }
    </style>
</head>
<body>

<div id="master-container">
    <aside id="sidebar">
        <div class="brand">
            <h1>CLEVER MINDS</h1>
            <p style="font-size: 9px; margin: 5px 0 0 0; color: #fff;">ERP v25.0 | MAIN CAMPUS</p>
        </div>
        <nav class="nav-group">
            <div class="nav-item active" onclick="App.show('desk-registry', this)">Student Registry</div>
            <div class="nav-item" onclick="App.show('desk-attendance', this)">Attendance & Health</div>
            <div class="nav-item" onclick="App.show('desk-finance', this)">Finance & Fees</div>
            <div class="nav-item" onclick="App.show('desk-academic', this)">GES Assessment</div>
            <div class="nav-item" onclick="App.show('desk-inventory', this)">Store & Inventory</div>
        </nav>
        <div style="padding: 20px; font-size: 9px; color: #678;">SYSTEM STATUS: <span id="clock" style="color:var(--gold)">00:00</span></div>
    </aside>

    <main id="viewport">
        
        <div id="desk-registry" class="desk-view active">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                <h2 style="margin:0; font-size:18px; color:var(--navy);">Admission & Biodata Registry</h2>
                <div style="font-size:11px; font-weight:bold;">ID: <span id="auto_id" style="color:var(--academic)"></span></div>
            </div>
            <div class="grid-2">
                <div class="card">
                    <label>Passport Picture (Mandatory)</label>
                    <div style="width:100px; height:100px; border:2px dashed #ccc; margin-bottom:10px; display:flex; align-items:center; justify-content:center; font-size:9px; color:#999;">PHOTO REQ</div>
                    <input type="file" accept="image/*">
                    <label>Full Name</label>
                    <input type="text" placeholder="First Name">
                    <input type="text" placeholder="Surname">
                    <label>Religion</label>
                    <select><option>Christianity</option><option>Islam</option><option>Other</option></select>
                </div>
                <div class="card">
                    <label>Medical History</label>
                    <select><option>Blood Group: O+</option><option>Blood Group: A+</option></select>
                    <textarea placeholder="Critical Allergies..."></textarea>
                    <label>Emergency Contact (Person 3)</label>
                    <input type="text" placeholder="Full Name">
                    <input type="text" placeholder="Primary Phone">
                </div>
            </div>
        </div>

        <div id="desk-attendance" class="desk-view">
            <h2 style="color:var(--navy);">Daily Attendance & Welfare</h2>
            <div id="lock_warning" class="lock-banner" style="display:none;">ðŸ”’ SYSTEM LOCKED: 10:00 AM EXCEEDED. REQUEST AUTHORIZATION.</div>
            <div class="card">
                <label>Search Student</label>
                <input type="text" placeholder="Filter names...">
                <table id="att_table">
                    <thead><tr><th>Student</th><th>Status</th><th>Medical Alert</th></tr></thead>
                    <tbody>
                        <tr><td>Kofi Mensah</td><td><select class="att-in"><option>Present</option><option>Absent</option></select></td><td><span style="color:red; font-weight:bold;">Peanut Allergy</span></td></tr>
                        <tr><td>Amma Asante</td><td><select class="att-in"><option>Present</option><option>Absent</option></select></td><td><span style="color:green;">Clear</span></td></tr>
                    </tbody>
                </table>
                <button class="btn-action" style="margin-top:15px;" id="att_save">Save Daily Log</button>
            </div>
        </div>

        <div id="desk-finance" class="desk-view">
            <h2 style="color:var(--navy);">Fee & Balance Ledger</h2>
            <div class="grid-2">
                <div class="card" style="border-top: 5px solid var(--finance);">
                    <label>Quick Search</label>
                    <input type="text" placeholder="Student Name/ID">
                    <div class="grid-2">
                        <div><label>Total Bill</label><input type="number" value="1800" readonly></div>
                        <div><label>Prev Paid</label><input type="number" id="prev_paid" value="500" readonly></div>
                    </div>
                    <label>Current Payment</label>
                    <input type="number" id="new_pay" oninput="App.calcFinance()" placeholder="0.00">
                    <div style="background:#f0f7f0; padding:15px; border-radius:4px;">
                        <label>Remaining Owed</label>
                        <div id="rem_val" style="font-size:20px; font-weight:800; color:var(--finance);">GHS 1,300.00</div>
                    </div>
                    <button class="btn-action" style="background:var(--finance); margin-top:15px; width:100%;">Authorize Payment</button>
                </div>
                <div class="card">
                    <label>Toiletries Status</label>
                    <table style="font-size:10px;">
                        <tr><td>Dettol</td><td><input type="checkbox" checked> Received</td></tr>
                        <tr><td>Broom</td><td><input type="checkbox"> Pending</td></tr>
                    </table>
                </div>
            </div>
        </div>

        <div id="desk-academic" class="desk-view">
            <h2 style="color:var(--navy);">GES Terminal Assessment</h2>
            <div class="card">
                <div style="display:flex; gap:10px;">
                    <select style="width:200px;"><option>Primary 1</option></select>
                    <select style="width:200px;"><option>Mathematics</option></select>
                </div>
                <table>
                    <thead><tr><th>Student</th><th>SBA (40%)</th><th>Exams (60%)</th><th>Total</th><th>Grade</th></tr></thead>
                    <tbody>
                        <tr><td>Kofi Mensah</td><td><input type="number" value="35" style="width:50px;"></td><td><input type="number" value="52" style="width:50px;"></td><td>87</td><td><b style="color:var(--finance)">1</b></td></tr>
                    </tbody>
                </table>
                <button class="btn-action" style="background:var(--academic); margin-top:15px;">Seal & Lock Term Results</button>
            </div>
        </div>

        <div id="desk-inventory" class="desk-view">
            <h2 style="color:var(--navy);">Stock & Supply Chain</h2>
            <div class="card">
                <table>
                    <thead><tr><th>Item</th><th>Category</th><th>Quantity</th><th>Status</th></tr></thead>
                    <tbody>
                        <tr><td>Dettol (L)</td><td>Toiletries</td><td>12</td><td><span style="color:orange;">Low Stock</span></td></tr>
                        <tr><td>A4 Paper</td><td>Stationery</td><td>45</td><td><span style="color:green;">Sufficient</span></td></tr>
                    </tbody>
                </table>
            </div>
        </div>

    </main>
</div>

<script>
    const App = {
        init: () => {
            // Auto ID Generation
            document.getElementById('auto_id').innerText = "CM-" + Math.floor(Math.random()*9000 + 1000) + "-" + new Date().getFullYear();
            
            // Time Watcher for 10 AM Lock
            setInterval(App.updateTime, 1000);
            App.updateTime();
        },

        show: (id, el) => {
            document.querySelectorAll('.desk-view').forEach(v => v.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(i => i
